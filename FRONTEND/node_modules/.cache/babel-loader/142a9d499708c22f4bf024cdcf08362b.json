{"ast":null,"code":"import _classCallCheck from\"/home/workspace/practise-mern/practise/DevConnector/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/workspace/practise-mern/practise/DevConnector/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/workspace/practise-mern/practise/DevConnector/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/workspace/practise-mern/practise/DevConnector/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from\"react-router-dom\";import{connect}from\"react-redux\";import{getCurrentProfile,deleteAccount}from\"../../actions/profileActions\";import Spinner from\"../common/Spinner\";import ProfileActions from\"./ProfileActions\";import Experience from\"./Experience\";import Education from\"./Education\";var Dashboard=/*#__PURE__*/function(_Component){_inherits(Dashboard,_Component);var _super=_createSuper(Dashboard);function Dashboard(){_classCallCheck(this,Dashboard);return _super.apply(this,arguments);}_createClass(Dashboard,[{key:\"componentDidMount\",// Call function initially\nvalue:function componentDidMount(){this.props.getCurrentProfile();}// Delete Complete User Account\n},{key:\"onDeleteClick\",value:function onDeleteClick(e){this.props.deleteAccount();}},{key:\"render\",value:function render(){var user=this.props.auth.user;var _this$props$profile=this.props.profile,profile=_this$props$profile.profile,loading=_this$props$profile.loading;var dashboardContent;if(profile===null||loading){dashboardContent=/*#__PURE__*/React.createElement(Spinner,null);}else{// Check if logged in user has profile data\nif(Object.keys(profile).length>0){dashboardContent=/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"lead text-muted\"},\"Welcome \",/*#__PURE__*/React.createElement(Link,{to:\"/profile/\".concat(profile.handle)},user.name)),/*#__PURE__*/React.createElement(ProfileActions,null),/*#__PURE__*/React.createElement(Experience,{experience:profile.experience}),/*#__PURE__*/React.createElement(Education,{education:profile.education}),/*#__PURE__*/React.createElement(\"div\",{style:{marginBottom:'60px'}}),/*#__PURE__*/React.createElement(\"button\",{onClick:this.onDeleteClick.bind(this),className:\"btn btn-danger\"},\"Delete My Account\"));}else{// User is logged but has no profile\ndashboardContent=/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"lead text-muted\"},\"Welcome \",user.name),/*#__PURE__*/React.createElement(\"p\",null,\"You have not yet setup a profile, please add some info\"),/*#__PURE__*/React.createElement(Link,{to:\"/create-profile\",className:\"btn btn-lg btn-info\"},\"Create Profile\"));}}return/*#__PURE__*/React.createElement(\"div\",{className:\"dashboard\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"display-4\"},\"Dashboard\"),dashboardContent))));}}]);return Dashboard;}(Component);var mapStateToProps=function mapStateToProps(state){return{profile:state.profile,auth:state.auth};};export default connect(mapStateToProps,{getCurrentProfile:getCurrentProfile,deleteAccount:deleteAccount})(Dashboard);","map":{"version":3,"sources":["/home/workspace/practise-mern/practise/DevConnector/client/src/components/dashboard/Dashboard.js"],"names":["React","Component","Link","connect","getCurrentProfile","deleteAccount","Spinner","ProfileActions","Experience","Education","Dashboard","props","e","user","auth","profile","loading","dashboardContent","Object","keys","length","handle","name","experience","education","marginBottom","onDeleteClick","bind","mapStateToProps","state"],"mappings":"orBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,iBAAT,CAA4BC,aAA5B,KAAiD,8BAAjD,CACA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,C,GAEMC,CAAAA,S,iPAEF;kCACqB,CACjB,KAAKC,KAAL,CAAWP,iBAAX,GACH,CAED;oDACeQ,C,CAAG,CACd,KAAKD,KAAL,CAAWN,aAAX,GACH,C,uCAGQ,IACGQ,CAAAA,IADH,CACY,KAAKF,KAAL,CAAWG,IADvB,CACGD,IADH,yBAEwB,KAAKF,KAAL,CAAWI,OAFnC,CAEGA,OAFH,qBAEGA,OAFH,CAEYC,OAFZ,qBAEYA,OAFZ,CAIL,GAAIC,CAAAA,gBAAJ,CACA,GAAIF,OAAO,GAAK,IAAZ,EAAoBC,OAAxB,CAAiC,CAC7BC,gBAAgB,cAAG,oBAAC,OAAD,MAAnB,CACH,CAFD,IAEO,CACH;AACA,GAAGC,MAAM,CAACC,IAAP,CAAYJ,OAAZ,EAAqBK,MAArB,CAA8B,CAAjC,CAAoC,CAChCH,gBAAgB,cACZ,4CACI,yBAAG,SAAS,CAAC,iBAAb,0BACY,oBAAC,IAAD,EAAM,EAAE,oBAAcF,OAAO,CAACM,MAAtB,CAAR,EAA0CR,IAAI,CAACS,IAA/C,CADZ,CADJ,cAII,oBAAC,cAAD,MAJJ,cAKI,oBAAC,UAAD,EAAY,UAAU,CAAEP,OAAO,CAACQ,UAAhC,EALJ,cAMI,oBAAC,SAAD,EAAW,SAAS,CAAER,OAAO,CAACS,SAA9B,EANJ,cAOI,2BAAK,KAAK,CAAE,CAAEC,YAAY,CAAE,MAAhB,CAAZ,EAPJ,cAQI,8BAAQ,OAAO,CAAE,KAAKC,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAAjB,CAAgD,SAAS,CAAC,gBAA1D,sBARJ,CADJ,CAYH,CAbD,IAaO,CACH;AACAV,gBAAgB,cACZ,4CACI,yBAAG,SAAS,CAAC,iBAAb,aAAyCJ,IAAI,CAACS,IAA9C,CADJ,cAEI,sFAFJ,cAGI,oBAAC,IAAD,EAAM,EAAE,CAAC,iBAAT,CAA2B,SAAS,CAAC,qBAArC,mBAHJ,CADJ,CASH,CACJ,CACD,mBACI,2BAAK,SAAS,CAAC,WAAf,eACI,2BAAK,SAAS,CAAC,WAAf,eACI,2BAAK,SAAS,CAAC,KAAf,eACI,2BAAK,SAAS,CAAC,WAAf,eACI,0BAAI,SAAS,CAAC,WAAd,cADJ,CAEKL,gBAFL,CADJ,CADJ,CADJ,CADJ,CAYH,C,uBA5DmBhB,S,EAsExB,GAAM2B,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,QAAY,CAChCd,OAAO,CAAEc,KAAK,CAACd,OADiB,CAEhCD,IAAI,CAAEe,KAAK,CAACf,IAFoB,CAAZ,EAAxB,CAKA,cAAeX,CAAAA,OAAO,CAACyB,eAAD,CAAkB,CAAExB,iBAAiB,CAAjBA,iBAAF,CAAqBC,aAAa,CAAbA,aAArB,CAAlB,CAAP,CAA+DK,SAA/D,CAAf","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from \"react-router-dom\";\nimport PropTypes from 'prop-types';\nimport { connect } from \"react-redux\";\nimport { getCurrentProfile, deleteAccount } from \"../../actions/profileActions\";\nimport Spinner from \"../common/Spinner\";\nimport ProfileActions from \"./ProfileActions\";\nimport Experience from \"./Experience\";\nimport Education from \"./Education\";\n\nclass Dashboard extends Component {\n\n    // Call function initially\n    componentDidMount () {\n        this.props.getCurrentProfile();\n    }\n\n    // Delete Complete User Account\n    onDeleteClick (e) {\n        this.props.deleteAccount();\n    }\n\n\n    render() {\n        const { user } = this.props.auth;\n        const { profile, loading } = this.props.profile;\n\n        let dashboardContent;\n        if (profile === null || loading) {\n            dashboardContent = <Spinner />\n        } else {\n            // Check if logged in user has profile data\n            if(Object.keys(profile).length > 0) {\n                dashboardContent = (\n                    <div>\n                        <p className=\"lead text-muted\">\n                            Welcome <Link to={`/profile/${profile.handle}`}>{ user.name }</Link>\n                        </p>\n                        <ProfileActions />\n                        <Experience experience={profile.experience} />\n                        <Education education={profile.education} />\n                        <div style={{ marginBottom: '60px' }} />\n                        <button onClick={this.onDeleteClick.bind(this)} className=\"btn btn-danger\">Delete My Account</button>\n                    </div>\n                )\n            } else {\n                // User is logged but has no profile\n                dashboardContent = (\n                    <div>\n                        <p className=\"lead text-muted\">Welcome { user.name }</p>\n                        <p>You have not yet setup a profile, please add some info</p>\n                        <Link to=\"/create-profile\" className=\"btn btn-lg btn-info\">\n                            Create Profile\n                        </Link>\n                    </div>\n                )\n            }\n        }\n        return (\n            <div className=\"dashboard\">\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-md-12\">\n                            <h1 className=\"display-4\">Dashboard</h1>\n                            {dashboardContent}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nDashboard.propTypes = {\n    getCurrentProfile: PropTypes.func.isRequired,\n    deleteAccount: PropTypes.func.isRequired,\n    profile: PropTypes.object.isRequired,\n    auth: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = (state) => ({\n    profile: state.profile,\n    auth: state.auth\n})\n\nexport default connect(mapStateToProps, { getCurrentProfile, deleteAccount })(Dashboard);\n"]},"metadata":{},"sourceType":"module"}