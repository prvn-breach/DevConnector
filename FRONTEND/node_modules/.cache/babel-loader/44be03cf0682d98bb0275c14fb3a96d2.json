{"ast":null,"code":"import _classCallCheck from\"/home/workspace/practise-mern/practise/DevConnector/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/workspace/practise-mern/practise/DevConnector/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/workspace/practise-mern/practise/DevConnector/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/workspace/practise-mern/practise/DevConnector/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from\"react-redux\";import classnames from\"classnames\";import{Link}from\"react-router-dom\";import{deletePost,addLike,removeLike}from\"../../actions/postActions\";var PostItem=/*#__PURE__*/function(_Component){_inherits(PostItem,_Component);var _super=_createSuper(PostItem);function PostItem(){_classCallCheck(this,PostItem);return _super.apply(this,arguments);}_createClass(PostItem,[{key:\"onDeleteClick\",value:function onDeleteClick(id){this.props.deletePost(id);}},{key:\"onLikeClick\",value:function onLikeClick(id){this.props.addLike(id);}},{key:\"onUnlikeClick\",value:function onUnlikeClick(id){this.props.removeLike(id);}},{key:\"findUserLikes\",value:function findUserLikes(likes){var auth=this.props.auth;if(likes.filter(function(like){return like.user===auth.user.id;}).length>0){return true;}else{return false;}}},{key:\"render\",value:function render(){var _this$props=this.props,post=_this$props.post,auth=_this$props.auth,showActions=_this$props.showActions;return/*#__PURE__*/React.createElement(\"div\",{className:\"card card-body mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2\"},/*#__PURE__*/React.createElement(Link,{to:\"/profile\"},/*#__PURE__*/React.createElement(\"img\",{className:\"rounded-circle d-none d-md-block\",src:post.avatar,alt:\"\"})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"p\",{className:\"text-center\"},post.name)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-10\"},/*#__PURE__*/React.createElement(\"p\",{className:\"lead\"},post.text),showActions?/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:this.onLikeClick.bind(this,post._id),type:\"button\",className:\"btn btn-light mr-1\"},/*#__PURE__*/React.createElement(\"i\",{className:classnames('fas fa-thumbs-up',{'text-info':this.findUserLikes(post.likes)})}),/*#__PURE__*/React.createElement(\"span\",{className:\"badge badge-light\"},post.likes.length)),/*#__PURE__*/React.createElement(\"button\",{onClick:this.onUnlikeClick.bind(this,post._id),type:\"button\",className:\"btn btn-light mr-1\"},/*#__PURE__*/React.createElement(\"i\",{className:\"text-secondary fas fa-thumbs-down\"})),/*#__PURE__*/React.createElement(Link,{to:\"/post/\".concat(post._id),className:\"btn btn-info mr-1\"},\"Comments\"),post.user===auth.user.id?/*#__PURE__*/React.createElement(\"button\",{onClick:this.onDeleteClick.bind(this,post._id),type:\"button\",className:\"btn btn-danger mr-1\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-times\"})):null):null)));}}]);return PostItem;}(Component);PostItem.defaultProps={showActions:true};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps,{deletePost:deletePost,addLike:addLike,removeLike:removeLike})(PostItem);","map":{"version":3,"sources":["/home/workspace/practise-mern/practise/DevConnector/client/src/components/posts/PostItem.js"],"names":["React","Component","connect","classnames","Link","deletePost","addLike","removeLike","PostItem","id","props","likes","auth","filter","like","user","length","post","showActions","avatar","name","text","onLikeClick","bind","_id","findUserLikes","onUnlikeClick","onDeleteClick","defaultProps","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport classnames from \"classnames\";\nimport { Link } from \"react-router-dom\";\nimport { deletePost, addLike, removeLike } from \"../../actions/postActions\";\n\nclass PostItem extends Component {\n\n    onDeleteClick(id) {\n        this.props.deletePost(id);\n    }\n\n    onLikeClick(id) {\n        this.props.addLike(id);\n    }\n\n    onUnlikeClick(id) {\n        this.props.removeLike(id);\n    }\n\n    findUserLikes(likes) {\n        const { auth } = this.props;\n\n        if(likes.filter(like => like.user === auth.user.id).length > 0) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    render() {\n        const { post, auth, showActions } = this.props;\n        return (\n            <div className=\"card card-body mb-3\">\n                <div className=\"row\">\n                    <div className=\"col-md-2\">\n                        <Link to=\"/profile\">\n                            <img \n                                className=\"rounded-circle d-none d-md-block\" \n                                src={post.avatar}\n                                alt=\"\" \n                            />\n                        </Link>\n                        <br />\n                        <p className=\"text-center\">{post.name}</p>\n                    </div>\n                    <div className=\"col-md-10\">\n                        <p className=\"lead\">{post.text}</p>\n                        {showActions ? (<span>\n                            <button \n                            onClick={this.onLikeClick.bind(this, post._id)}\n                            type=\"button\" \n                            className=\"btn btn-light mr-1\"\n                        >\n                            <i className={classnames('fas fa-thumbs-up', {\n                                'text-info': this.findUserLikes(post.likes)\n                            })}></i>\n                            <span className=\"badge badge-light\">{post.likes.length}</span>\n                        </button>\n                        <button \n                            onClick={this.onUnlikeClick.bind(this, post._id)}\n                            type=\"button\" \n                            className=\"btn btn-light mr-1\"\n                        >\n                            <i className=\"text-secondary fas fa-thumbs-down\"></i>\n                        </button>\n                        <Link to={`/post/${post._id}`} className=\"btn btn-info mr-1\">\n                            Comments\n                        </Link>\n                        {post.user === auth.user.id ? (\n                            <button \n                                onClick={this.onDeleteClick.bind(this, post._id)} \n                                type=\"button\"\n                                className=\"btn btn-danger mr-1\"\n                            >\n                                <i className=\"fas fa-times\" />\n                            </button>\n                        ) : null}\n                        </span>) : null }\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nPostItem.defaultProps = {\n    showActions: true\n}\n\nPostItem.propTypes = {\n    deletePost: PropTypes.func.isRequired,\n    addLike: PropTypes.func.isRequired,\n    removeLike: PropTypes.func.isRequired,\n    auth: PropTypes.object.isRequired,\n    post: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = state => ({\n    auth: state.auth,\n});\n\nexport default connect(mapStateToProps, {deletePost, addLike, removeLike})(PostItem);\n"]},"metadata":{},"sourceType":"module"}